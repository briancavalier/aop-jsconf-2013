<!DOCTYPE HTML>
<html lang="en-US">
<head>
	<meta charset="UTF-8">
	<title>init test</title>

    <script src="test-config.js"></script>

	<script type="text/javascript">
		require(['wire'], function(wire) {
			wire({
				test: {
					literal: {
						set: function(val) { this.val = val; }
					},
					properties: { val: 1 },
					init: { set: 2 }
				}
			}).then(
					function(context) {
						doh.register('init-facet', [
							function(doh) {
								doh.assertTrue(context.test.val === 2);
							}
						]);

						doh.run();
					},
					function(err) {
						console.log(err);
					}
			);

		});
	</script>
</head>
<body>
	<div>
		<p id="node1"></p>
	</div>
</body>
</html>